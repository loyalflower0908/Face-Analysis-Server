# Face Analysis Server 🚀

**Face Analysis Server**는 [Face Analysis App](https://github.com/loyalflower0908/Face-Analysis-App)과 연동되어 사용자 얼굴 이미지를 처리하고 분석 결과를 반환하는 백엔드 서버입니다.

Flask를 기반으로 구축되었으며, DeepFace 라이브러리를 활용하여 나이, 성별, 감정, 인종 등의 얼굴 분석 데이터를 제공합니다.

---

## 서버 설명 🔍

이 서버는 사용자가 업로드한 얼굴 이미지를 처리하여 다음과 같은 작업을 수행합니다:

- **이미지 업로드 및 얼굴 분석**  
  사용자가 업로드한 이미지 파일을 저장하고, DeepFace를 통해 얼굴을 분석합니다. 분석된 결과가 없거나 얼굴이 감지되지 않으면 오류 메시지를 반환합니다.

- **사용자 인증**  
  이미지 업로드 후, 서버는 랜덤으로 생성된 사용자 ID와 비밀번호를 반환합니다. 사용자는 이 정보를 이용해 로그인 요청을 할 수 있으며, 로그인 성공 시 랜덤 토큰이 발급됩니다.

- **분석 결과 제공**  
  인증된 사용자에게는 분석된 얼굴 데이터(성별, 나이, 감정, 인종)가 제공됩니다.

---

## 주요 기능 🚀

- **이미지 업로드 & 얼굴 분석**  
  - `/upload` 엔드포인트에서 이미지를 받아 서버 내 저장 후, DeepFace를 이용한 얼굴 분석 수행  
  - 얼굴이 감지되지 않으면 400 오류와 함께 적절한 오류 메시지 반환

- **사용자 로그인**  
  - `/login` 엔드포인트에서 사용자 ID와 비밀번호를 확인하여, 올바른 경우 랜덤 토큰을 발급

- **사용자 속성 조회**  
  - `/\<user_id\>/attributes` 엔드포인트를 통해 인증된 사용자의 얼굴 분석 결과(성별, 나이, 감정, 인종)를 반환  
  - 인증 토큰을 헤더에 포함하여 보안성 강화

- **랜덤 문자열 생성**  
  - 사용자 ID, 비밀번호, 토큰 생성을 위해 `generate_random_string.py` 모듈을 사용

---

## 기술 스택 🧰

- **웹 프레임워크:**  
  - [Flask](https://flask.palletsprojects.com/)
  
- **얼굴 분석 라이브러리:**  
  - [DeepFace](https://github.com/serengil/deepface)

- **데이터 처리 및 유틸리티:**  
  - Python 표준 라이브러리 (os, time, random, string)

---

## 개발 기간 ⏱️

2/23 하루
